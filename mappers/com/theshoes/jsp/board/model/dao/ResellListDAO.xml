<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ResellListDAO">

	<resultMap type="com.greedy.jsp.board.model.dto.ResellListDTO" id="generalResellListResultMap">
		<id property="no" column="BOARD_NO"/>
		<result property="boardId" column="BOARD_ID"/>
		<result property="boardCategoryNo" column="BOARD_CATEGORY_NO"/>
		<result property="boardTitle" column="BOARD_TITLE"/>
		<result property="boardContent" column="BOARD_CONTENT"/>
		<result property="categoryOrder" column="CATEGORY_ORDER"/>
		<result property="rtNo" column="RT_NO"/>
		<result property="rtFile" column="RT_FILE"/>
		
	<!-- 	<association property="writer" resultMap="memberResultMap"/>
		<association property="category" resultMap="categoryResultMap"/> -->
	</resultMap>
	
	<resultMap type="com.greedy.jsp.board.model.dto.ResellDetailDTO" id="ResellDetailResultMap">
		<id property="resellNo" column="RESELL_NO"/>
		<result property="boardNo" column="BOARD_NO"/>
		<result property="boardId" column="BOARD_ID"/>
		<result property="boardCategoryNo" column="BOARD_CATEGORY_NO"/>
		<result property="boardTitle" column="BOARD_TITLE"/>
		<result property="boardContent" column="BOARD_CONTENT"/>
		<result property="categoryOrder" column="CATEGORY_ORDER"/>
	</resultMap>
	
	<resultMap type="com.theshoes.jsp.board.model.dto.ResellThumbDTO" id="ResellThumbResultMap">
		<id property="rtNo" column="RT_NO"/>
		<result property="rtFile" column="ST_NO"/>
		<result property="resellNo" column="RESELL_NO"/>
		<result property="resellFileName" column="RESELL_FILE_NAME"/>
		<result property="savePath" column="SAVE_PATH"/>
		<result property="fileType" column="FILE_TYPE"/>
		<result property="thumbnailPath" column="THUMBNAIL_PATH"/>
		<result property="status" column="ATTACHMENT_STATUS"/>
	</resultMap>
	
	<select id="selectOneResell" resultMap="generalResellListResultMap">
		SELECT
			   A.BOARD_NO
			 , A.BOARD_ID
			 , A.BOARD_CATEGORY_NO
			 , A.BOARD_TITLE
			 , A.BOARD_CONTENT
			 , A.CATEGORY_ORDER
			 , B.RT_FILE
		  FROM BOARD A
		  JOIN RESELL_THUMB B ON(B.RT_NO = A.BOARD_NO)
		 WHERE A.BOARD_CATEGORY_NO = 3
	</select>
	
	<insert id="insertShoes" parameterType="com.theshoes.jsp.board.model.dto.reselldetailDTO">
	 	INSERT 
	 	  INTO BOARD A
		(
		  A.BOARD_NO
		, A.BOARD_ID
		, A.BOARD_CATEGORY_NO
		, A.BOARD_TITLE
		, A.BOARD_CONTENT
		, A.CATEGORY_ORDER
		)
		VALUES
		(
		  SEQ_BOARD_CODE
		, #{ boardId }
		, #{ boardCategoryNo }
		, #{ boardTitle }
		, #{ boardContent }
		, #{ CategoryOrder }
		) 
	</insert>
	
	
</mapper>